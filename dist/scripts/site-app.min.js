"use strict";function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires}$(document).ready(function(){Handlebars.registerHelper("toLowerCase",function(str){return str?str.toLowerCase():"self"});var env,findBootstrapEnvironment=function(){var envs=["xs","sm","md","lg"],el=$("<div>");el.appendTo($("body"));for(var i=envs.length-1;i>=0;i--){var env=envs[i];if(el.addClass("hidden-"+env),el.is(":hidden"))return el.remove(),env}},panels=function(){var ho=45,h=$(window).height()-ho;env=findBootstrapEnvironment(),$("#side, #content").css({height:h+"px",top:ho+"px"}),$(".ps-scroller").perfectScrollbar()};panels(),$(window).resize(function(){panels()}),setTimeout(function(){$(".github-btn-con").removeClass("hide"),$(".github-btn-con").css("margin-top","8px")},1200),("xs"===env||"sm"===env)&&$("#side").toggleClass("do-collapse"),$("a.collapser").click(function(e){e.preventDefault(),e.stopPropagation(),$("#side").toggleClass("do-collapse"),$("#side").hasClass("do-collapse")?($("#content").innerWidth($(window).width()-41+"px"),("xs"===env||"sm"===env)&&$("#side").css("z-index","1")):($("#side").width(""),$("#content").width(""),("xs"===env||"sm"===env)&&$("#side").css("z-index","3"))})}),angular.module("anyandgoApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","youtube-embed","cfp.hotkeys","ui.ace","angular-clipboard","toastr","restangular"]).config(function($routeProvider,$locationProvider,RestangularProvider,hotkeysProvider,toastrConfig){angular.extend(toastrConfig,{positionClass:"toast-bottom-right"}),hotkeysProvider.includeCheatSheet=!0,$routeProvider.when("/",{templateUrl:"./scripts/site/views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}).run(function($rootScope,$location,$route,$timeout,$http,$cookies,$anchorScroll,youtubeEmbedUtils){$rootScope.config={},$rootScope.config.app_url=$location.url(),$rootScope.config.app_path=$location.path(),$rootScope.config.app_domain="","80"!==$location.port()?$rootScope.config.app_domain=$location.protocol()+"://"+$location.host()+":"+$location.port():$rootScope.config.app_domain=$location.protocol()+"://"+$location.host(),$rootScope.layout={},$rootScope.layout.loading=!1,$rootScope.gotoAnchor=function(x){var newHash=x;$location.hash()!==newHash?$location.hash(x):$anchorScroll()},$rootScope.modalVideo="",$rootScope.openVideoModal=function(video){$rootScope.modalVideo=video,$("#modalViewVideo").modal("show")},$rootScope.closeVideoModal=function(video){$rootScope.modalPlayer.stopVideo()},$("#modalViewVideo").on("hidden.bs.modal",function(){$rootScope.modalPlayer.stopVideo()}),navigator.userAgent.match(/Zombie/)||($rootScope.$on("$routeChangeStart",function(){console.log("$routeChangeStart"),$timeout(function(){$rootScope.layout.loading=!0})}),$rootScope.$on("$routeChangeSuccess",function(){console.log("$routeChangeSuccess"),$timeout(function(){$rootScope.layout.loading=!1},200)}),$rootScope.$on("$routeChangeError",function(){console.log("error"),$rootScope.layout.loading=!1}))}),angular.module("anyandgoApp").factory("MermeladaService",function($http){var req=function(method,path,data){return $http({method:method,url:"."+path,data:data})};return{get:function(path,data){return req("GET",path,data)},post:function(path,data){return req("POST",path,data)},put:function(path,data){return req("PUT",path,data)},"delete":function(path,data){return req("DELETE",path,data)},parseClass:function(mcode){var toParse=mcode.split("\n"),obj={class_title:"",methods:[],statics:[],attrs:[]};return angular.forEach(toParse,function(line,i){var line_split=line.split(" ");line.match(/^C .*/)&&(obj.class_title=line_split[1]),line.match(/^a .*/)&&obj.attrs.push({title:line_split[1],type:line_split[3]}),line.match(/^m .*/)&&obj.methods.push({title:line_split[1]}),line.match(/^s .*/)&&obj.statics.push({title:line_split[1]})}),obj},parse:function(mcode){var toParse=mcode.split("\n"),classes=[],classes_result={classes:[]},classText="";angular.forEach(toParse,function(line,i){line.match(/^C .*/)?(""!==classText&&classes.push(classText),classText=line+"\n"):""!==classText&&(classText+=line+"\n")}),""!==classText&&classes.push(classText);var parent=this;return angular.forEach(classes,function(class_obj,i){classes_result.classes.push(parent.parseClass(class_obj))}),classes_result}}}),angular.module("anyandgoApp").controller("MainCtrl",function($scope,$rootScope,$http,$log,MermeladaService,toastr){$scope.anyandgoversion="v0.1",$scope.mermeladacode="",$scope.template="",$scope.resultjs="",$http.get($rootScope.config.app_domain+"/mermelada/scripts/site/views/mermelada-code.hbs").then(function(res){$scope.mermeladacode=res.data||""}),$http.get($rootScope.config.app_domain+"/mermelada/scripts/site/views/mongoose-model.js.hbs").then(function(res){var source=res.data||"";$scope.template=Handlebars.compile(source),$scope.processMermelada()}),$scope.processMermelada=function(){var res=MermeladaService.parse($scope.mermeladacode);""!==$scope.template&&($scope.resultjs=$scope.template(res))},$scope.sourceCopied=function(){toastr.info("Generated source code copied to your clipboard","Copied!",{iconClass:"toast-mermelada"})},$scope.mermeladaLoaded=function(_editor){$log.log("mermelada loaded")},$scope.mermeladaChanged=function(e){$log.log("mermelada changed",$scope.mermeladacode),$scope.processMermelada()},$scope.resultjsLoaded=function(_editor){_editor.setReadOnly(!0),$log.log("js result loaded")},$scope.resultjsChanged=function(e){$log.log("js result changed")}}),angular.module("anyandgoApp").controller("AboutCtrl",function($scope){$scope.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("anyandgoApp").controller("SampleCtrl",function($scope,Restangular){$scope.samples=Restangular.all("samples").getList().$object}),angular.module("anyandgoApp").controller("SampleNewCtrl",function($scope,$location,Restangular){$scope.save=function(){Restangular.all("samples").post($scope.sample).then(function(sample){navigator.userAgent.match(/Zombie/)?document.location.hash="#/crud/sample":$location.path("/crud/sample")})}}),angular.module("anyandgoApp").controller("SampleEditCtrl",function($scope,$location,Restangular,sample){var original=sample;$scope.sample=Restangular.copy(original),$scope.isClean=function(){return angular.equals(original,$scope.sample)},$scope.destroy=function(){original.remove().then(function(){navigator.userAgent.match(/Zombie/)?document.location.hash="#/crud/sample":$location.path("/crud/sample")})},$scope.save=function(){$scope.sample.put().then(function(){navigator.userAgent.match(/Zombie/)?document.location.hash="#/crud/sample":$location.path("/crud/sample")})}}),angular.module("anyandgoApp").directive("langsupport",["$cookieStore","$cookies","$window",function($cookieStore,$cookies,$window){return{restrict:"A",link:function($scope,element,attrs,ctrl){element.on("click",function(){$cookieStore.put("lang",attrs.langsupport),setCookie("lang",attrs.langsupport,2),$window.location.reload()})}}}]),angular.module("anyandgoApp").directive("metismenu",function(){return{restrict:"A",link:function(scope,element,attrs){$(element).metisMenu(scope.$eval(attrs.toolbarTip))}}}),angular.module("anyandgoApp").directive("hero",function(){return{restrict:"A",link:function($scope,element,attrs){$scope.carousel=$(element).carousel(),$scope.doAnimations=function(elems){var animEndEv="webkitAnimationEnd animationend";elems.each(function(){var $this=$(this),$animationType=$this.data("animation");$this.addClass($animationType).one(animEndEv,function(){$this.removeClass($animationType)})})};var $animatingElems=$($scope.carousel).find("[data-animation ^= 'animated']");$scope.doAnimations($animatingElems),$scope.carousel.on("slide.bs.carousel",function(e){var $animatingElems=$(e.relatedTarget).find("[data-animation ^= 'animated']");$scope.doAnimations($animatingElems)})}}});